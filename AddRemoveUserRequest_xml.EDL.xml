<?xml version="1.0" encoding="UTF-8"?>
<data xmlns="ns:workflow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="ns:workflow resource:WorkflowData"><edoclite xmlns="ns:workflow/EDocLite" xsi:schemaLocation="ns:workflow/EDocLite resource:EDocLite"><edl name="AddRemoveUserRequest_xml" title="UGS Add/Remove User Request">
      <instructions>*Fields with an asterisk are required.</instructions>
      <javascript>
        <!-- javascript here -->
        <![CDATA[//
          $(document).ready(function () {
            ajaxGetAll();
            console.log($docStatus);
            console.log($currentNode);
            console.log($isAtNodeInitiated);

           if ($docStatus == 'INITIATED' && $currentNode == 'Initiated')
            {
              $('#addRemove').change(showSections);
              $('#campus').on("change", function () { applyChangesFor('campus'); });
              $('#campus').change(resetForm);
              $('#department').change(showAddRemove)
              $('#cbRemoveAll').change(updateAll)
              $('#contactOnly').change(ToggleContactOnly)
            }


          });

function checkBrowserCompatibility(){
			var browser = window.navigator.userAgent;
			var msie = browser.indexOf("MSIE ");

			if(navigator.userAgent.indexOf("IE") != -1 ) {
				var versionNum = parseInt(browser.substring(msie + 5, browser.indexOf(".", msie)));
				if (versionNum < 10) {
					//They are using an unsupported version of IE. Hide everyhting except warning message
					var bodyContents = document.getElementsByTagName('body')[0].childNodes;
					for (var i = 0; i<bodyContents.length; i++) {
						bodyContents[i].style.display = 'none';
					}
					var warningDiv = document.createElement('div');
					warningDiv.id = 'browserWarning';
					document.getElementsByTagName('body')[0].appendChild(warningDiv);
					warningMessage = "<b>Your version of Internet Explorer is out of date!</b>.<br/> \
					-------------------------------------------------------------------------<br/> \
					If you want to use Internet explorer, please update it to the latest version. Found here: <a href=http://windows.microsoft.com/en-us/internet-explorer/download-ie>Update Internet Explorer</a><br/><br/> \
					<b>However, it is recommended that you use 'Google Chrome'.</b><br/> \
					If you do not have 'Google Chrome' you can get it here: <a href='https://www.google.com/chrome/browser/desktop/index.html'>Google Chrome Download</a><br/><br/> Thanks!";
					warningDiv.innerHTML = warningMessage;
					warningDiv.style.fontSize = "large";
					warningDiv.style.margin = "auto";
					warningDiv.style.width = "80%";
					warningDiv.style.border = "5px solid #33CC33";
					warningDiv.style.padding = "10px";
					warningDiv.style.textAlign = "center";

				}
				else{
					//They are using a supported version of IE...but it's still IE
					console.log("You are using Internet Explorer. If you experience any problems please try using a different browser (like 'Google Chrome')");
				}
			}
			else {
				console.log("You are NOT using Internet Explorer. Good for you");
			}
		}

          function showAddRemove()
          {
            document.getElementById("idAddRemove").style.display="block";
          }


          function initForm(x) {
              $('#addText').val('');
          }

          function updateAll()
          {


          }



          function resetForm(){
              var $addRemoveReplace = $('#addRemove');
              var $removeFirstName = $('#removeFirstName');
              var $removeLastName = $('#removeLastName');
              var $removeUserid = $('#removeUserid');
              var $addFirstName = $('#addFirstName');
              var $addLastName = $('#addLastName');
              var $addUserID = $('#addUserID');
              var $addJobTitle = $('#addJobTitle');
              var $addCampusAddress = $('#addCampusAddress');
              var $addDepartmentEmail = $('#addDepartmentEmail');
              $addRemoveReplace.val("Select");
              $removeFirstName.val("");
              $removeLastName.val("");
              $removeUserid.val("");
              $addFirstName.val("");
              $addLastName.val("");
              $addUserID.val("");
              $addJobTitle.val("");
              $addCampusAddress.val("");
              $addDepartmentEmail.val("");
              document.getElementById("idContactOnly").style.display="none";
              document.getElementById("idRemovePerson").style.display="none";
              document.getElementById("idAddPerson").style.display="none";
              document.getElementById("idRemoveApps").style.display="none";
              document.getElementById("idAddApps").style.display="none";
              document.getElementById("idChangeApps").style.display="none";
              document.getElementById("idBoxLink").style.display="none";
              document.getElementById("idSwapOptions").style.display="none";
              document.getElementById("idComments").style.display="none";
              document.getElementById("idOptions").style.display="none";
          }

            function showSections()
              {
               var addRemoveReplace = $('#addRemove').val();
               var campus = $('#campus').val();
               var $removeFirstName = $('#removeFirstName');
               var $removeLastName = $('#removeLastName');
               var $removeUserid = $('#removeUserid');
               var $addFirstName = $('#addFirstName');
               var $addLastName = $('#addLastName');
               var $addUserID = $('#addUserID');
               var $addJobTitle = $('#addJobTitle');
               var $addCampusAddress = $('#addCampusAddress');
               var $addDepartmentEmail = $('#addDepartmentEmail');
               var $justificationForRequest = $('#justificationForRequest');
               var $contactOnly = $('#contactOnly');
               var $eAppAdminCenter = $('#eAppAdminCenter');
               $addFirstName.val("");
               $addLastName.val("");
               $addUserID.val("");
               $addJobTitle.val("");
               $addCampusAddress.val("");
               $addDepartmentEmail.val("");
               $removeFirstName.val("");
               $removeLastName.val("");
               $removeUserid.val("");
               $justificationForRequest.val("");
               $contactOnly.prop('checked', false);
               $eAppAdminCenter.prop('checked', false);
               $bulletin.prop('checked', false);

               switch (addRemoveReplace)
               {
                  case "add":
                    document.getElementById("idAddPerson").style.display="block";
                    document.getElementById("idAddHeader").style.display="block";
                    document.getElementById("idChangeHeader").style.display="none";
                    document.getElementById("idContactOnly").style.display="block";
                    document.getElementById("idRemovePerson").style.display="none";
                    document.getElementById("idOptions").style.display="block";
                    document.getElementById("idComments").style.display="block";
                    document.getElementById("idAddApps").style.display="block";
                    document.getElementById("idRemoveAll").style.display="none";
                    document.getElementById("idRemoveApps").style.display="none";
                    document.getElementById("idChangeApps").style.display="none";
                    document.getElementById("idBoxLink").style.display="block";
                    document.getElementById("idSwapOptions").style.display="none";
                    if (campus == "IN")
                      {document.getElementById("idIUPUIOptions").style.display="block";}
                    else
                      {document.getElementById("idIUPUIOptions").style.display="none";}
                    break;
                  case "remove":
                    document.getElementById("idRemovePerson").style.display="block";
                    document.getElementById("idAddPerson").style.display="none";
                    document.getElementById("idAddHeader").style.display="none";
                    document.getElementById("idChangeHeader").style.display="none";
                    document.getElementById("idContactOnly").style.display="block";
                    document.getElementById("idRemoveAll").style.display="block";
                    document.getElementById("idOptions").style.display="block";
                    document.getElementById("idRemoveApps").style.display="block";
                    document.getElementById("idComments").style.display="block";
                    document.getElementById("idAddApps").style.display="none";
                    document.getElementById("idChangeApps").style.display="none";
                    document.getElementById("idBoxLink").style.display="block";
                    document.getElementById("idSwapOptions").style.display="none";
                    if (campus == "IN")
                      {document.getElementById("idIUPUIOptions").style.display="block";}
                    else
                      {document.getElementById("idIUPUIOptions").style.display="none";}
                    break;
                  case "change":
                    document.getElementById("idAddPerson").style.display="block";
                    document.getElementById("idAddHeader").style.display="none";
                    document.getElementById("idChangeHeader").style.display="block";
                    document.getElementById("idContactOnly").style.display="block";
                    document.getElementById("idRemovePerson").style.display="none";
                    document.getElementById("idOptions").style.display="block";
                    document.getElementById("idComments").style.display="block";
                    document.getElementById("idChangeApps").style.display="block";
                    document.getElementById("idBoxLink").style.display="block";
                    document.getElementById("idAddApps").style.display="none";
                    document.getElementById("idRemoveAll").style.display="none";
                    document.getElementById("idRemoveApps").style.display="none";
                    document.getElementById("idSwapOptions").style.display="none";
                    if (campus == "IN")
                      {document.getElementById("idIUPUIOptions").style.display="block";}
                    else
                      {document.getElementById("idIUPUIOptions").style.display="none";}
                    break;
                  case "replace":
                    document.getElementById("idRemovePerson").style.display="block";
                    document.getElementById("idAddPerson").style.display="block";
                    document.getElementById("idAddHeader").style.display="block";
                    document.getElementById("idChangeHeader").style.display="none";
                    document.getElementById("idContactOnly").style.display="none";
                    document.getElementById("idComments").style.display="block";
                    document.getElementById("idOptions").style.display="none";
                    document.getElementById("idSwapOptions").style.display="block";
                    break;
                  case "Select":
                    console.log("ShowSections Select");
                    resetForm();
                    break;
                  default:
                    document.getElementById("idRemovePerson").style.display="none";
                    document.getElementById("idAddPerson").style.display="none";
                    document.getElementById("idRemoveApps").style.display="none";
                    document.getElementById("idAddApps").style.display="none";
                    document.getElementById("idChangeApps").style.display="none";
                    document.getElementById("idBoxLink").style.display="none";
                    document.getElementById("idSwapOptions").style.display="none";
                    document.getElementById("idComments").style.display="none";
                    document.getElementById("idOptions").style.display="none";
               }

              }

              function ToggleContactOnly() {
                console.log("Toggle Contact Only");
                if(document.getElementById("contactOnly").checked) {
                  console.log("Toggle Checked");
                  document.getElementById("idOptions").style.display="none";
                  document.getElementById("idIUPUIOptions").style.display="none";
                }
                else {
                  console.log("Toggle Unchecked");
                  document.getElementById("idOptions").style.display="block";
                  if (campus == "IN")
                    {document.getElementById("idIUPUIOptions").style.display="block";}
                  else
                    {document.getElementById("idIUPUIOptions").style.display="none";}
                }
              }

              //Alt method for getting departments here

              function ajaxGetAll() {
                          jQuery.ajax({
                              url: 'https://graduate.indiana.edu/edocdata.php?op=7',
                              dataType: 'jsonp',
          					async: true,
                              success: function(res){
          						console.log("ajax call returned, populating arrays.");
          						console.log(res);
          						programsBL = res.programsBL;
                      programsIN = res.programsIN;
                      repopulateAllFields();
                              }
                          });
                }

              function repopulateAllFields() {
          			console.log("Beginning repopulation.");
          			//These applychanges calls will simply update the dropdowns based off of values.
          			applyChangesFor('campus');
          		}

              function applyChangesFor(fieldID) {
          			var value = $("#" + fieldID).val();
                //Resets displayed sections on campus change
                document.getElementById("idAddRemove").style.display="none";
                document.getElementById("idRemovePerson").style.display="none";
                document.getElementById("idAddPerson").style.display="none";
                document.getElementById("idRemoveApps").style.display="none";
                document.getElementById("idAddApps").style.display="none";
                document.getElementById("idSwapOptions").style.display="none";
                document.getElementById("idComments").style.display="none";

          			switch (fieldID) {
          				case "campus":
          					if (value === "BL") {
          						updateField('department', programsBL);
          					}
          					else if (value === "IN") {
          						updateField('department', programsIN);
          					}
          					break;
          			}
          		}

              function updateField(fieldID, array) {
          		  try {
            			//only update field if it is a 'select'
            			if ($("#" + fieldID).is("select")) {
            				  $("#" + fieldID).empty();
          				    $("#" + fieldID).append('<option value="Select">Please Select</option>');
              				for (i=0; i<array.length; i++) {
              					optionTag = '<option value="' + array[i].dept + '">' + array[i].title + '</option>'
              					$("#" + fieldID).append(optionTag);
              				}
            			}
                }
                  catch(err) {
                    console.log('Error trying to update \'' + fieldID + '\': ' + err);
                  }
        	    }

              //Previously used to set departments
              function setDepartments(){
                document.getElementById("idAddRemove").style.display="none";
                document.getElementById("idRemovePerson").style.display="none";
                document.getElementById("idAddPerson").style.display="none";
                document.getElementById("idRemoveApps").style.display="none";
                document.getElementById("idAddApps").style.display="none";
                document.getElementById("idSwapOptions").style.display="none";
                document.getElementById("idComments").style.display="none";
              }
               ]]>

      </javascript>

      <!-- *******  FIELDDEFS *******       -->

      <!-- ADD/REMOVE/REPLACE/CHANGE? -->
      <fieldDef name="addRemove" title="Would you like to add, remove or replace a user?">
        <display>
          <type>select</type>
          <meta>
            <name>size</name>
            <value>4</value>
          </meta>
          <values title="**Please Select**" />
          <values title="Add">add</values>
          <values title="Remove">remove</values>
          <values title="Change">change</values>
          <values title="Replace (swap)">replace</values>
        </display>
        <validation required="true" />
      </fieldDef>

      <!--  CAMPUS-->
      <fieldDef attributeName="UGSAddRemoveCampusAttribute" name="campus" title="Campus:">
        <display>
          <type>select</type>
          <meta>
            <name>size</name>
            <value>2</value>
          </meta>
          <values title="**Select your campus**" />
          <values title="IU Bloomington">BL</values>
          <values title="IUPUI Indianapolis">IN</values>
        </display>
        <validation required="true" />
      </fieldDef>

      <!--  DEPARTMENT   -->
      <fieldDef attributeName="UGSAddRemoveDeptAttribute" name="department" title="School/Department">
        <display>
          <type>select</type>
          <meta>
            <name>size</name>
            <value>3</value>
          </meta>
          <values title="**Please Select Department/School**">select</values>
        </display>
        <validation required="true" />
      </fieldDef>

      <!-- ADD PERSON -->
      <fieldDef name="addUserID" title="NetworkID">
        <display>
          <type>text</type>
          <meta>
            <name>maxlength</name>
            <value>15</value>
          </meta>
          <meta>
            <name>size</name>
            <value>2</value>
          </meta>
        </display>
      </fieldDef>

      <fieldDef name="addFirstName" title="First Name">
        <display>
          <type>text</type>
          <meta>
            <name>maxlength</name>
            <value>15</value>
          </meta>
          <meta>
            <name>size</name>
            <value>2</value>
          </meta>
        </display>
        <validation required="false" />
      </fieldDef>

      <fieldDef name="addLastName" title="Last Name">
        <display>
          <type>text</type>
          <meta>
            <name>maxlength</name>
            <value>15</value>
          </meta>
          <meta>
            <name>size</name>
            <value>2</value>
          </meta>
        </display>
      </fieldDef>

      <fieldDef name="addJobTitle" title="Job Title">
        <display>
          <type>text</type>
          <meta>
            <name>maxlength</name>
            <value>80</value>
          </meta>
          <meta>
            <name>size</name>
            <value>3</value>
          </meta>
        </display>
      </fieldDef>

      <fieldDef name="addCampusPhone" title="Campus Phone">
        <display>
          <type>text</type>
          <meta>
            <name>maxlength</name>
            <value>25</value>
          </meta>
          <meta>
            <name>size</name>
            <value>2</value>
          </meta>
        </display>
      </fieldDef>

      <fieldDef name="addDepartmentEmail" title="Department Email">
        <display>
          <type>text</type>
          <meta>
            <name>maxlength</name>
            <value>25</value>
          </meta>
          <meta>
            <name>size</name>
            <value>2</value>
          </meta>
        </display>
      </fieldDef>

      <fieldDef name="addCampusAddress" title="Campus Address">
        <display>
          <type>text</type>
          <meta>
            <name>maxlength</name>
            <value>80</value>
          </meta>
          <meta>
            <name>size</name>
            <value>3</value>
          </meta>
        </display>
      </fieldDef>

      <!-- REMOVE PERSON -->
      <fieldDef name="removeUserid" title="NetworkID">
        <display>
          <type>text</type>
          <meta>
            <name>maxlength</name>
            <value>15</value>
          </meta>
          <meta>
            <name>size</name>
            <value>2</value>
          </meta>
        </display>
      </fieldDef>

      <fieldDef name="removeFirstName" title="First Name">
        <display>
          <type>text</type>
          <meta>
            <name>maxlength</name>
            <value>15</value>
          </meta>
          <meta>
            <name>size</name>
            <value>2</value>
          </meta>
        </display>
      </fieldDef>

      <fieldDef name="removeLastName" title="Last Name">
        <display>
          <type>text</type>
          <meta>
            <name>maxlength</name>
            <value>15</value>
          </meta>
          <meta>
            <name>size</name>
            <value>2</value>
          </meta>
        </display>
      </fieldDef>

      <!--  OPTIONS   -->

      <!--  AWARDS AND FELLOWSHIPS CANVAS COURSE  -->
      <fieldDef name="fellowCanvasCourse" title="">
        <display>
          <type>checkbox</type>
          <values title="Awards and Fellowships Canvas Course">Awards and Fellowships Canvas Course</values>
        </display>
      </fieldDef>

      <!--  IUIE ACCESS  -->
      <fieldDef name="iuieAccess" title="">
        <display>
          <type>checkbox</type>
          <values title="IUIE Access">IUIE Access</values>
        </display>
      </fieldDef>

      <!--  FELLOWSHIP CONTACT ONLY  -->
      <fieldDef name="fellowContactOnly" title="">
        <display>
          <type>checkbox</type>
          <values title="Fellow Contact Only">Fellow Contact Only</values>
        </display>
      </fieldDef>

      <!-- BULLETIN CONTACT   -->
      <fieldDef name="bulletin" title="">
        <display>
          <type>checkbox</type>
          <values title="Bulletin contact">Bulletin contact</values>
        </display>
      </fieldDef>

      <!-- eApp ADMIN CENTER   -->
      <fieldDef name="eAppAdminCenter" title="">
        <display>
          <type>checkbox</type>
          <meta>
            <name>id</name>
            <value>eAppAdminCenter</value>
          </meta>
          <values title="Admin Center">eApp Admin Center</values>
        </display>
      </fieldDef>

      <!-- eAPP APPROVER   -->
      <fieldDef name="eAppApprover" title="">
        <display>
          <type>checkbox</type>
          <values title="eApp Approver">eApp Approver</values>
        </display>
      </fieldDef>

      <!-- eAPP TRAINING COMPLETED   -->
      <fieldDef name="eAppTrainingCompleted" title="">
        <display>
          <type>checkbox</type>
          <values title="eApp Training Completed">eApp Training Completed</values>
        </display>
      </fieldDef>

      <!-- MASTERS EDOC   -->
      <fieldDef name="maAppAdvDeg" title="">
        <display>
          <type>checkbox</type>
          <values title="Master's Application and Recommendation for Advanced Degree">Master's Application and Recommendation for Advanced Degree</values>
        </display>
      </fieldDef>

      <!--  COMMENCEMENT EDOC-->
      <fieldDef name="phdCommencementApp" title="">
        <display>
          <type>checkbox</type>
          <values title=" Ph.D. Commencement Participation (coming to IUPUI soon)">Ph.D.Commencement Participation Application</values>
        </display>
      </fieldDef>

      <!--  DEFENSE ANNOUNCEMENT EDOC   -->
      <fieldDef name="defenseAnnouncement" title="">
        <display>
          <type>checkbox</type>
          <values title="Defense Announcement">Defense Announcement</values>
        </display>
      </fieldDef>

      <!--  NOMINATION OF RESEARCH COMMITEE EDOC   -->
      <fieldDef name="nomResCommittee" title="">
        <display>
          <type>checkbox</type>
          <values title="Nomination of Research Committee">Nomination of Research Committee</values>
        </display>
      </fieldDef>

      <!--  CANDIDACY EDOC  -->
      <fieldDef name="nomCandidacy" title="">
        <display>
          <type>checkbox</type>
          <values title="Nomination to Candidacy">Nomination to Candidacy</values>
        </display>
      </fieldDef>

      <!--  SECRETARY RECORDER  -->
      <fieldDef name="secRecorder" title="">
        <display>
          <type>checkbox</type>
          <values title="Secretary Recorder">Secretary Recorder</values>
        </display>
      </fieldDef>

      <!--  SECRETARY RECORDER  -->
      <fieldDef name="dgs" title="">
        <display>
          <type>checkbox</type>
          <values title="DGS">DGS</values>
        </display>
      </fieldDef>

      <!--  ADMINISTRATIVE ASSISTANT  -->
      <fieldDef name="adminAssistant" title="">
        <display>
          <type>checkbox</type>
          <values title="Administrative Assistant">Administrative Assistant</values>
        </display>
      </fieldDef>

      <!--  CURRICULUM CONTACT  -->
      <fieldDef name="curriculumContact" title="">
        <display>
          <type>checkbox</type>
          <values title="Curriculum Contact">Curriculum Contact</values>
        </display>
      </fieldDef>

      <!--  DEPARTMENT CHAIR/DIRECTOR  -->
      <fieldDef name="depChair" title="">
        <display>
          <type>checkbox</type>
          <values title="Department Chair/Director">Department Chair/Director</values>
        </display>
      </fieldDef>

      <!--  GRADUATE STUDIES ADVISOR  -->
      <fieldDef name="gradStudiesAdv" title="">
        <display>
          <type>checkbox</type>
          <values title="Graduate Studies Advisor">Graduate Studies Advisor</values>
        </display>
      </fieldDef>

      <!--  DEAN  -->
      <fieldDef name="dean" title="">
        <display>
          <type>checkbox</type>
          <values title="Dean">Dean</values>
        </display>
      </fieldDef>

      <!--  ASSOCIATE DEAN  -->
      <fieldDef name="associateDean" title="">
        <display>
          <type>checkbox</type>
          <values title="Associate Dean">Associate Dean</values>
        </display>
      </fieldDef>

      <!--  FISCAL  -->
      <fieldDef name="fiscal" title="">
        <display>
          <type>checkbox</type>
          <values title="Fiscal">Fiscal</values>
        </display>
      </fieldDef>

      <!--  GRADUATE ADVISOR  -->
      <fieldDef name="gradAdv" title="">
        <display>
          <type>checkbox</type>
          <values title="Graduate Advisor">Graduate Advisor</values>
        </display>
      </fieldDef>

      <!--  GRADUATE SECRETARY  -->
      <fieldDef name="gradSecretary" title="">
        <display>
          <type>checkbox</type>
          <values title="Graduate Secretary">Graduate Secretary</values>
        </display>
      </fieldDef>

      <!--  GRADUATE RECORDER  -->
      <fieldDef name="gradRecorder" title="">
        <display>
          <type>checkbox</type>
          <values title="Graduate Recorder">Graduate Recorder</values>
        </display>
      </fieldDef>

      <!--  RECRUITER  -->
      <fieldDef name="recruiter" title="">
        <display>
          <type>checkbox</type>
          <values title="Recruiter">Recruiter</values>
        </display>
      </fieldDef>

      <!--  NEWSLETTER RECIPIENT  -->
      <fieldDef name="newsletterRecipient" title="">
        <display>
          <type>checkbox</type>
          <values title="I want to receieve the Crucial Communicator Newsletter, sent to faculty and staff regarding important information on graduate education at IUPUI.">Newsletter Recipient</values>
        </display>
      </fieldDef>

      <!--  OTHER  -->
      <fieldDef name="other" title="Other">
        <display>
          <type>text</type>
          <meta>
            <name>size</name>
            <value>2</value>
          </meta>
        </display>
      </fieldDef>

      <!-- JUSTIFICATION   -->
      <fieldDef name="justificationForRequest" title="Enter a brief justification and any other comments (required)">
        <display>
          <type>textarea</type>
          <meta>
            <name>cols</name>
            <value>150</value>
          </meta>
          <meta>
            <name>rows</name>
            <value>6</value>
          </meta>
        </display>
        <validation required="true">
          <message>Please enter a justification/comment.</message>
        </validation>
      </fieldDef>

    </edl><style name="AddRemoveUserRequest_xsl"><xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:edl-func="xalan://org.kuali.rice.edl.framework.util.EDLFunctions" version="1.0">
        <xsl:include href="widgets-bootstrap" />
        <xsl:include href="UGS-bootstrap-notes" />
        <xsl:output indent="yes" method="html" omit-xml-declaration="yes" />
        <xsl:param name="overrideMain" select="'false'" />

        <!-- *******  VARIABLES ******* -->
        <xsl:variable name="pageTitle">Add/Remove User Request for University Graduate School Systems</xsl:variable>
        <xsl:variable name="docTitle">Add/Remove User Request for University Graduate School Systems</xsl:variable>
        <xsl:variable name="docId" select="/documentContent/documentState/docId" />
        <xsl:variable name="currentNode" select="edl-func:getCurrentNodeName($docId)" />
        <xsl:variable name="noteReadOnly" select="'false'" />
        <xsl:variable name="editable" select="/documentContent/documentState/editable" />
        <xsl:variable name="isEditable" select="boolean($editable='true')" />
        <xsl:variable name="docHeaderId" select="/documentContent/documentState/docId" />
        <xsl:variable name="isAtNodeInitiated" select="edl-func:isAtNode($docHeaderId, 'Initiated')" />
        <xsl:variable name="docStatus" select="//documentState/workflowDocumentState/status" />

        <xsl:template name="mainBody">
          <script xmlns="" type="text/javascript">checkBrowserCompatibility();</script>

          <script xmlns="" type="text/javascript">
            var $currentNode = '<xsl:value-of select="$currentNode" />';
            var $docStatus = '<xsl:value-of select="$docStatus" />';
            var $isAtNodeInitiated = '<xsl:value-of select="$isAtNodeInitiated" />';
            $(document).ready(function () {var init = "<xsl:value-of select="$isAtNodeInitiated" />"; initForm(init);});


          </script>

          <xsl:variable name="docHeaderId" select="/documentContent/documentState/docId" />
          <xsl:variable name="isAtNodeInitiated" select="edl-func:isAtNode($docHeaderId, 'Initiated')" />
          <xsl:variable name="docStatus" select="//documentState/workflowDocumentState/status" />

          <xsl:call-template name="validationMessages" />

          <xsl:choose>
            <xsl:when test="not($isEditable)">
              <a xmlns="" class="btn btn-primary pull-right" href="#" onclick="printForm();" title="Print">
                <i class="fa fa-print fa-lg" />
              </a>
            </xsl:when>
          </xsl:choose>

          <!-- Create editable page for intitiated and read-only for all else  -->

          <xsl:choose>
            <xsl:when test="$docStatus = 'INITIATED'">

              <div xmlns="" id="idDocInfo" style="width: 90%; margin: auto;">
                <h4><b>This form is for university employees only.</b></h4>
              </div>

              <!-- GET CAMPUS AND DEPT -->
              <div xmlns="" id="idCampusDept">
                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'campus'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'department'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>
              </div>

              <!-- GET ADD/REMOVE/SWAP-->
              <div xmlns="" id="idAddRemove" style="display:none">
                <xsl:call-template name="widget">
                  <xsl:with-param name="fieldName" select="'addRemove'" />
                </xsl:call-template>
              </div>

              <div id="idContactOnly" style="display:none;">
                  <input name="contactOnly" id="contactOnly" type="checkbox" value="contactOnly">
                    Contact Information Only<br />
                  </input>
              </div>

              <!--  GROUP OF ADD PERSON WIDGETS-->
              <div xmlns="" id="idAddPerson" style="display:none">
                <div xmlns="" id="idAddHeader" style="display:block;">
                  <h3>Add</h3>
                </div>
                <div xmlns="" id="idChangeHeader" style="display:none;">
                  <h3>Change</h3>
                </div>

                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addUserID'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addFirstName'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addLastName'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>

                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addJobTitle'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addCampusAddress'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addDepartmentEmail'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addCampusPhone'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>
              </div>

              <!--  GROUP OF REMOVE PERSON WIDGETS-->
              <div xmlns="" id="idRemovePerson" style="display:none">
                <h3>Remove</h3>
                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'removeUserid'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'removeFirstName'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'removeLastName'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>
              </div>

              <!-- REQUEST JUSTIFICATION -->
              <div xmlns="" id="idComments" style="display:none">
                <h4>Comments</h4>
                <xsl:call-template name="widget">
                  <xsl:with-param name="fieldName" select="'justificationForRequest'" />
                </xsl:call-template>
              </div>

              <!--  OPTIONS  -->
              <div xmlns="" id="idSwapOptions" style="display:none">
                <h4 style="line-height:150%">If the system access required is not the same between the two users being swapped, please fill out separate request forms
                for each, or make detailed comments below.</h4>
                <br />
              </div>

              <div xmlns="" id="idOptions" style="display:none">
                <h3 id="idAddApps" style="display:none">Application Access to Add</h3>
                <h3 id="idRemoveApps" style="display:none">Application Access to Remove</h3>
                <h3 id="idChangeApps" style="display:none">Application Access to Change</h3>
                <h5 id="idBoxLink" style="display:none; width: 90%; margin: auto;"><a href="https://iu.app.box.com/v/ugsedocs" target="_blank">In Box you can find reports showing all current eDoc workflow memberships for your program as well as an enroute eDoc list.</a></h5>

                <div id="idRemoveAll" style="display:none">
                    <input name="cbRemoveAll" type="checkbox" value="removeAll">
                      Remove All<br />
                    </input>
                </div>
                <br />
                <h4>Admission Applications</h4> <!-- eApp -->
                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'eAppAdminCenter'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'eAppApprover'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>

                <xsl:call-template name="widget">
                  <xsl:with-param name="fieldName" select="'eAppTrainingCompleted'" />
                </xsl:call-template>
                <div xmlns="" id="ideAppTrainingText">
                  <h5 style="width: 90%; margin: auto;"><i>Contact Judy Post (Bloomington) or Anita Sale (IUPUI) if you are unsure or have not completed the training. eApp approval access will not be granted until training is completed.</i></h5>
                </div>
                <br />


                <h4>Awards and Fellowships</h4>
                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'fellowCanvasCourse'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'iuieAccess'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'fellowContactOnly'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>

                <h4>Bulletin</h4>
                <xsl:call-template name="widget">
                  <xsl:with-param name="fieldName" select="'bulletin'" />
                </xsl:call-template>
                <div xmlns="" id="idBulletinText">
                  <h5 style="width: 90%; margin: auto;"><i>For IU Graduate School Programs only</i></h5>
                </div>

                <h4>IU Graduate School Student Progression eDoc Approver</h4>
                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'maAppAdvDeg'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'defenseAnnouncement'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'nomResCommittee'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'nomCandidacy'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'phdCommencementApp'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'secRecorder'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'dgs'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>

                <!-- IUPUI Exclusive Options -->
                <div xmlns="" id="idIUPUIOptions" style="display:none;">
                  <h4>IUPUI Graduate Office Roles</h4>
                  <xsl:call-template name="inlineWidget">
                    <xsl:with-param name="body">
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'adminAssistant'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'curriculumContact'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'depChair'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'gradStudiesAdv'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'dean'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'associateDean'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'fiscal'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'gradAdv'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'gradSecretary'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'gradRecorder'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'recruiter'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'newsletterRecipient'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'other'" />
                      </xsl:call-template>
                    </xsl:with-param>
                  </xsl:call-template>
                </div>
              </div>

            </xsl:when>

            <xsl:otherwise>
              <!--  READ ONLY OTHERWISE  -->
              <!-- GET CAMPUS AND ADDREMOVEREPLACE -->
              <div xmlns="" id="campusAddRemoveReplaceReadOnly">
                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'campus'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addRemove'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>
                <xsl:call-template name="widget">
                  <xsl:with-param name="fieldName" select="'department'" />
                  <xsl:with-param name="readOnly" select="'true'" />
                </xsl:call-template>
              </div>

              <!--  GROUP OF ADD PERSON WIDGETS-->
              <div xmlns="" id="idAddPersonReadOnly" style="display:block">
                <h3>Add</h3>
                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addUserID'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addFirstName'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addLastName'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>

                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addJobTitle'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addCampusAddress'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addDepartmentEmail'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'addCampusPhone'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>
              </div>

              <!--  GROUP OF REMOVE PERSON WIDGETS-->
              <div xmlns="" id="idRemovePersonReadOnly" style="display:block">
                <h3>Remove</h3>
                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'removeUserid'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'removeFirstName'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'removeLastName'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>
              </div>

              <!-- REQUEST JUSTIFICATION -->
              <h4>Comments</h4>
              <xsl:call-template name="widget">
                <xsl:with-param name="fieldName" select="'justificationForRequest'" />
                <xsl:with-param name="readOnly" select="'true'" />
              </xsl:call-template>

              <!--  OPTIONS  -->
              <div xmlns="" id="idOptionsReadOnly" style="display:block">
                <h3 id="idOptionsHeaderReadOnly" style="display:block">Options</h3>
                <br />
                <h4>Admission Applications</h4> <!-- eApp -->
                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'eAppAdminCenter'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'eAppApprover'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>

                <xsl:call-template name="widget">
                  <xsl:with-param name="fieldName" select="'eAppTrainingCompleted'" />
                  <xsl:with-param name="readOnly" select="'true'" />
                </xsl:call-template>
                <div xmlns="" id="ideAppTrainingText">
                  <h5 style="width: 70%; margin: auto;"><i>Contact Judy Post (Bloomington) or Anita Sale (IUPUI) if you are unsure or have not completed the training. eApp approval access will not be granted until training is completed.</i></h5>
                </div>
                <br />

                <h4>Awards and Fellowships</h4>
                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'fellowCanvasCourse'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'iuieAccess'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'fellowContactOnly'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>

                <h4>Bulletin</h4>
                <xsl:call-template name="widget">
                  <xsl:with-param name="fieldName" select="'bulletin'" />
                  <xsl:with-param name="readOnly" select="'true'" />
                </xsl:call-template>
                <div xmlns="" id="idBulletinText">
                  <h5 style="width: 90%; margin: auto;"><i>For IU Graduate School Programs only</i></h5>
                </div>

                <h4>IU Graduate School Student Progression eDoc Approver</h4>
                <xsl:call-template name="inlineWidget">
                  <xsl:with-param name="body">
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'maAppAdvDeg'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'defenseAnnouncement'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'nomResCommittee'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'nomCandidacy'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'phdCommencementApp'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'secRecorder'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                    <xsl:call-template name="widget">
                      <xsl:with-param name="fieldName" select="'dgs'" />
                      <xsl:with-param name="readOnly" select="'true'" />
                    </xsl:call-template>
                  </xsl:with-param>
                </xsl:call-template>

                <!-- IUPUI Exclusive Options -->
                <div xmlns="" id="idIUPUIOptions" style="display:block;">
                  <h4>IUPUI Graduate Office Roles</h4>
                  <xsl:call-template name="inlineWidget">
                    <xsl:with-param name="body">
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'adminAssistant'" />
                        <xsl:with-param name="readOnly" select="'true'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'curriculumContact'" />
                        <xsl:with-param name="readOnly" select="'true'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'depChair'" />
                        <xsl:with-param name="readOnly" select="'true'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'gradStudiesAdv'" />
                        <xsl:with-param name="readOnly" select="'true'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'dean'" />
                        <xsl:with-param name="readOnly" select="'true'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'associateDean'" />
                        <xsl:with-param name="readOnly" select="'true'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'fiscal'" />
                        <xsl:with-param name="readOnly" select="'true'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'gradAdv'" />
                        <xsl:with-param name="readOnly" select="'true'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'gradSecretary'" />
                        <xsl:with-param name="readOnly" select="'true'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'gradRecorder'" />
                        <xsl:with-param name="readOnly" select="'true'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'recruiter'" />
                        <xsl:with-param name="readOnly" select="'true'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'newsletterRecipient'" />
                        <xsl:with-param name="readOnly" select="'true'" />
                      </xsl:call-template>
                      <xsl:call-template name="widget">
                        <xsl:with-param name="fieldName" select="'other'" />
                        <xsl:with-param name="readOnly" select="'true'" />
                      </xsl:call-template>
                    </xsl:with-param>
                  </xsl:call-template>
                </div>
              </div>

              <div xmlns="" id="idNotesFooter">
                <!--  ******* NOTES FROM UGS PLUGIN *******   -->
                <!--  Not available to node intiated          -->
                <xsl:call-template name="notes">
                </xsl:call-template>
              </div>

            </xsl:otherwise>

          </xsl:choose>

        </xsl:template>
      </xsl:stylesheet></style><association><docType>UGS.AddRemoveUserRequest.Doctype</docType><definition>AddRemoveUserRequest_xml</definition><style>AddRemoveUserRequest_xsl</style><active>true</active></association></edoclite></data>
